<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
  
  <ui:composition template="layout.xhtml">
    <ui:define name="header">#{empty facesContext.externalContext.context.servletContextName ? 'JSF Application' : facesContext.externalContext.context.servletContextName}</ui:define>
    <ui:define name="content">
      
      <p>
        <f:view>
          <h:panelGrid columns="1" cellspacing="5">
            <h:outputText id="serverinfo" value="#{facesContext.externalContext.context.serverInfo}">
              <h:outputLabel for="serverinfo" value="Server Info: "/>
            </h:outputText>
            <h:outputText id="projectstage" value="#{facesContext.application.projectStage}">
              <h:outputLabel for="projectstage" value="Project Stage: "/>
            </h:outputText>
          </h:panelGrid>
  <!--        <h2>ServletContext Init Parameters</h2>
          <h:dataTable value="#{spybackingbean.servletContextInitParameters}" 
                       var="initParam">
            <h:column>
              <f:facet name="header"><h:outputText value="Key"/></f:facet>
              <h:outputText value="#{initParam.key}"/>
            </h:column>
            <h:column>
              <f:facet name="header"><h:outputText value="Value"/></f:facet>
              <h:outputText value="#{initParam.value}"/>
            </h:column>
          </h:dataTable> -->
          <h2>Phase Listeners</h2>
          <h:dataTable value="#{spymanager.applicationData.phaseListeners}" 
                       var="phaseListener"
                       columnClasses="integer,,">
            <h:column>
              <f:facet name="header"><h:outputText value="Excecution Order"/></f:facet>
              <h:outputText value="#{component.parent.parent.rowIndex}"/>
            </h:column>
            <h:column>
              <f:facet name="header"><h:outputText value="Execution Phase"/></f:facet>
              <h:outputText value="#{phaseListener.phaseId}"/>
            </h:column>
            <h:column>
              <f:facet name="header"><h:outputText value="PhaseListener Class"/></f:facet>
              <h:outputText value="#{phaseListener.class.name}"/>
            </h:column>
          </h:dataTable>
   <!--       <h2>Registered Validators</h2>
          <h:dataTable value="#{spybackingbean.registeredValidators}" 
                       var="validator">
            <h:column>
              <f:facet name="header"><h:outputText value="Id"/></f:facet>
              <h:outputText value="#{validator.key}"/>
            </h:column>
            <h:column>
              <f:facet name="header"><h:outputText value="Class"/></f:facet>
              <h:outputText value="#{validator.value}"/>
            </h:column>
          </h:dataTable> -->
          <h2>Registered Component Types</h2>
          <h:dataTable value="#{spybackingbean.registeredComponents}" 
                       var="registeredComponent">
            <h:column>
              <f:facet name="header"><h:outputText value="Component Type"/></f:facet>
              <h:outputText value="#{registeredComponent}"/>
            </h:column>
          </h:dataTable>
          <h2>Application Scope Values</h2>
          <h:dataTable value="#{spybackingbean.applicationScopeSimpleView}" 
                       var="mapEntry">
            <h:column>
              <f:facet name="header"><h:outputText value="Key"/></f:facet>
              <h:outputText value="#{mapEntry.key}"/>
            </h:column>
            <h:column>
              <f:facet name="header"><h:outputText value="Value"/></f:facet>
              <h:outputText value="#{mapEntry.value}"/>
            </h:column>
          </h:dataTable>
        </f:view>
      </p>
    </ui:define>
  </ui:composition>
  
</html>
